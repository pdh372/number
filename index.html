<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Trang Web Th·∫ßn S·ªë H·ªçc - Kh√°m Ph√° B·∫£n Th√¢n</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 800px;
				margin: 0 auto;
				background: rgba(255, 255, 255, 0.95);
				border-radius: 20px;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				overflow: hidden;
			}

			.header {
				background: linear-gradient(45deg, #ff6b6b, #feca57);
				color: white;
				text-align: center;
				padding: 40px 20px;
			}

			.header h1 {
				font-size: 2.5em;
				margin-bottom: 10px;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
			}

			.header p {
				font-size: 1.2em;
				opacity: 0.9;
			}

			.form-section {
				padding: 40px;
			}

			.form-group {
				margin-bottom: 25px;
			}

			.form-group label {
				display: block;
				margin-bottom: 8px;
				font-weight: 600;
				color: #333;
				font-size: 1.1em;
			}

			.form-group input {
				width: 100%;
				padding: 15px;
				border: 2px solid #e1e8ed;
				border-radius: 10px;
				font-size: 16px;
				transition: all 0.3s ease;
			}

			.form-group input:focus {
				outline: none;
				border-color: #667eea;
				box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
			}

			.calculate-btn {
				background: linear-gradient(45deg, #667eea, #764ba2);
				color: white;
				border: none;
				padding: 15px 40px;
				border-radius: 50px;
				font-size: 18px;
				font-weight: 600;
				cursor: pointer;
				transition: transform 0.3s ease, box-shadow 0.3s ease;
				width: 100%;
			}

			.calculate-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
			}

			.results {
				margin-top: 40px;
				display: none;
			}

			.result-card {
				background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
				color: white;
				padding: 30px;
				border-radius: 15px;
				margin-bottom: 20px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
			}

			.result-card h3 {
				font-size: 1.5em;
				margin-bottom: 15px;
				text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
			}

			.number {
				font-size: 3em;
				font-weight: bold;
				text-align: center;
				margin: 20px 0;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
			}

			.description {
				font-size: 1.1em;
				line-height: 1.6;
				opacity: 0.95;
			}

			.export-btn {
				background: linear-gradient(45deg, #ff6b6b, #feca57);
				color: white;
				border: none;
				padding: 12px 30px;
				border-radius: 25px;
				font-size: 16px;
				font-weight: 600;
				cursor: pointer;
				transition: transform 0.3s ease;
				margin-top: 20px;
			}

			.export-btn:hover {
				transform: translateY(-2px);
			}

			.footer {
				text-align: center;
				padding: 30px;
				background: #f8f9fa;
				color: #666;
				font-style: italic;
			}

			@media (max-width: 768px) {
				.header h1 {
					font-size: 2em;
				}
				.form-section {
					padding: 20px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>üîÆ Th·∫ßn S·ªë H·ªçc</h1>
				<p>Kh√°m ph√° b·∫£n th√¢n th√¥ng qua s·ª©c m·∫°nh c·ªßa con s·ªë</p>
			</div>

			<div class="form-section">
				<form id="numerologyForm">
					<div class="form-group">
						<label for="fullName">H·ªç v√† T√™n ƒë·∫ßy ƒë·ªß:</label>
						<input
							type="text"
							id="fullName"
							placeholder="VD: Nguy·ªÖn VƒÉn An"
							required
						/>
					</div>

					<div class="form-group">
						<label for="birthDate">Ng√†y sinh:</label>
						<input
							type="date"
							id="birthDate"
							required
						/>
					</div>

					<button
						type="submit"
						class="calculate-btn"
					>
						‚ú® T√≠nh to√°n th·∫ßn s·ªë h·ªçc
					</button>
				</form>

				<div
					class="results"
					id="results"
				>
					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#667eea,
								#764ba2
							);
						"
					>
						<h3>üåü S·ªë ƒê∆∞·ªùng ƒê·ªùi (Life Path Number)</h3>
						<div
							class="number"
							id="lifePathNumber"
						></div>
						<div
							class="description"
							id="lifePathDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#f093fb,
								#f5576c
							);
						"
					>
						<h3>üéØ S·ªë ƒê·ªãnh M·ªánh (Destiny Number)</h3>
						<div
							class="number"
							id="destinyNumber"
						></div>
						<div
							class="description"
							id="destinyDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#feca57,
								#ff9ff3
							);
						"
					>
						<h3>üíñ S·ªë Kh√°t Khao T√¢m H·ªìn (Soul Urge Number)</h3>
						<div
							class="number"
							id="soulUrgeNumber"
						></div>
						<div
							class="description"
							id="soulUrgeDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#48c6ef,
								#6f86d6
							);
						"
					>
						<h3>üé≠ S·ªë Nh√¢n C√°ch (Personality Number)</h3>
						<div
							class="number"
							id="personalityNumber"
						></div>
						<div
							class="description"
							id="personalityDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#ff9a56,
								#ffad56
							);
						"
					>
						<h3>üéÇ S·ªë Ng√†y Sinh (Birthday Number)</h3>
						<div
							class="number"
							id="birthdayNumber"
						></div>
						<div
							class="description"
							id="birthdayDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#a8e6cf,
								#7fcdcd
							);
						"
					>
						<h3>üå± S·ªë Th√°i ƒê·ªô (Attitude Number)</h3>
						<div
							class="number"
							id="attitudeNumber"
						></div>
						<div
							class="description"
							id="attitudeDescription"
						></div>
					</div>

					<div
						class="result-card"
						style="
							background: linear-gradient(
								135deg,
								#ff6b9d,
								#c44569
							);
						"
					>
						<h3>üå∏ S·ªë Tr∆∞·ªüng Th√†nh (Maturity Number)</h3>
						<div
							class="number"
							id="maturityNumber"
						></div>
						<div
							class="description"
							id="maturityDescription"
						></div>
					</div>

					<button
						class="export-btn"
						onclick="exportToPDF()"
					>
						üìÑ Xu·∫•t PDF
					</button>

					<!-- Ph·∫ßn c√¥ng th·ª©c t√≠nh to√°n (ch·ªâ hi·ªÉn th·ªã tr√™n web, kh√¥ng export PDF) -->
					<div
						class="formula-section"
						id="formulaSection"
						style="
							display: block;
							margin-top: 30px;
							padding: 25px;
							background: #f8f9fa;
							border-radius: 15px;
							border-left: 5px solid #667eea;
						"
					>
						<h3
							style="
								color: #667eea;
								margin-bottom: 20px;
								display: flex;
								align-items: center;
							"
						>
							üî¢ Chi Ti·∫øt C√¥ng Th·ª©c T√≠nh To√°n
							<span
								style="
									margin-left: 10px;
									font-size: 0.8em;
									color: #666;
									font-weight: normal;
								"
								>(ƒë·ªÉ ki·ªÉm tra)</span
							>
						</h3>

						<div id="calculationDetails"></div>
					</div>
				</div>
			</div>

			<div class="footer">
				"Con s·ªë kh√¥ng ch·ªâ l√† k√Ω hi·ªáu, m√† c√≤n l√† ch√¨a kh√≥a m·ªü ra nh·ªØng b√≠
				m·∫≠t c·ªßa cu·ªôc s·ªëng"
			</div>
		</div>

		<script>
			// B·∫£ng gi√° tr·ªã cho c√°c ch·ªØ c√°i theo h∆∞·ªõng d·∫´n c·ª• th·ªÉ
			const letterValues = {
				A: 1,
				B: 2,
				C: 3,
				D: 4,
				E: 5,
				F: 6,
				G: 7,
				H: 8,
				I: 9,
				J: 1,
				K: 2,
				L: 3,
				M: 4,
				N: 5,
				O: 6,
				P: 7,
				Q: 8,
				R: 9,
				S: 1,
				T: 2,
				U: 3,
				V: 4,
				W: 5,
				X: 6,
				Y: 7,
				Z: 8,
			};

			const baseVowels = ['A', 'E', 'I', 'O', 'U'];

			// H√†m ki·ªÉm tra Y c√≥ ph·∫£i nguy√™n √¢m kh√¥ng
			function isYVowel(name, index) {
				const upperName = name.toUpperCase();
				const prevChar = index > 0 ? upperName[index - 1] : '';
				const nextChar =
					index < upperName.length - 1 ? upperName[index + 1] : '';

				// N·∫øu ƒë·ª©ng tr∆∞·ªõc ho·∫∑c sau Y l√† nguy√™n √¢m th√¨ Y l√† ph·ª• √¢m
				if (
					baseVowels.includes(prevChar) ||
					baseVowels.includes(nextChar)
				) {
					return false; // Y l√† ph·ª• √¢m
				}

				return true; // Y l√† nguy√™n √¢m
			}

			// H√†m ki·ªÉm tra c√≥ ph·∫£i nguy√™n √¢m
			function isVowel(letter, name, index) {
				if (baseVowels.includes(letter)) {
					return true;
				}
				if (letter === 'Y') {
					return isYVowel(name, index);
				}
				return false;
			}

			// M√¥ t·∫£ chi ti·∫øt cho t·ª´ng con s·ªë
			const descriptions = {
				lifePathDescriptions: {
					1: 'B·∫°n l√† ng∆∞·ªùi l√£nh ƒë·∫°o b·∫©m sinh v·ªõi tinh th·∫ßn ƒë·ªôc l·∫≠p m·∫°nh m·∫Ω. B·∫°n c√≥ kh·∫£ nƒÉng ti√™n phong, kh·ªüi x∆∞·ªõng nh·ªØng √Ω t∆∞·ªüng m·ªõi v√† d·∫´n d·∫Øt ng∆∞·ªùi kh√°c. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác ph√°t tri·ªÉn b·∫£n th√¢n v√† ƒë·∫°t ƒë∆∞·ª£c th√†nh c√¥ng th√¥ng qua n·ªó l·ª±c c√° nh√¢n.',
					2: 'B·∫°n l√† ng∆∞·ªùi h√≤a h·ª£p, h·ª£p t√°c v√† c√≥ kh·∫£ nƒÉng ngo·∫°i giao tuy·ªát v·ªùi. B·∫°n th√≠ch l√†m vi·ªác nh√≥m, t·∫°o ra s·ª± c√¢n b·∫±ng v√† h√≤a b√¨nh. Cu·ªôc ƒë·ªùi b·∫°n xoay quanh vi·ªác x√¢y d·ª±ng m·ªëi quan h·ªá v√† h·ªó tr·ª£ ng∆∞·ªùi kh√°c.',
					3: 'B·∫°n l√† ng∆∞·ªùi s√°ng t·∫°o, nƒÉng ƒë·ªông v√† c√≥ khi·∫øu ngh·ªá thu·∫≠t. B·∫°n c√≥ kh·∫£ nƒÉng giao ti·∫øp t·ªët, l·∫°c quan v√† mang l·∫°i ni·ªÅm vui cho ng∆∞·ªùi kh√°c. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác th·ªÉ hi·ªán b·∫£n th√¢n qua ngh·ªá thu·∫≠t v√† s√°ng t·∫°o.',
					4: 'B·∫°n l√† ng∆∞·ªùi th·ª±c t·∫ø, chƒÉm ch·ªâ v√† c√≥ t√≠nh k·ª∑ lu·∫≠t cao. B·∫°n th√≠ch x√¢y d·ª±ng nh·ªØng n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† l√†m vi·ªác m·ªôt c√°ch c√≥ h·ªá th·ªëng. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác t·∫°o ra s·ª± ·ªïn ƒë·ªãnh v√† an to√†n.',
					5: 'B·∫°n l√† ng∆∞·ªùi t·ª± do, phi√™u l∆∞u v√† th√≠ch kh√°m ph√°. B·∫°n c·∫ßn s·ª± ƒëa d·∫°ng, thay ƒë·ªïi v√† kh√¥ng th√≠ch b·ªã r√†ng bu·ªôc. Cu·ªôc ƒë·ªùi b·∫°n l√† m·ªôt h√†nh tr√¨nh kh√°m ph√° nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª v√† tr·∫£i nghi·ªám ƒëa d·∫°ng.',
					6: 'B·∫°n l√† ng∆∞·ªùi c√≥ tr√°ch nhi·ªám, y√™u th∆∞∆°ng v√† quan t√¢m ƒë·∫øn gia ƒë√¨nh. B·∫°n c√≥ b·∫£n nƒÉng chƒÉm s√≥c v√† b·∫£o v·ªá nh·ªØng ng∆∞·ªùi th√¢n y√™u. Cu·ªôc ƒë·ªùi b·∫°n xoay quanh vi·ªác ph·ª•c v·ª• v√† chƒÉm s√≥c ng∆∞·ªùi kh√°c.',
					7: 'B·∫°n l√† ng∆∞·ªùi tr√≠ tu·ªá, th√≠ch t√¨m hi·ªÉu v√† c√≥ khuynh h∆∞·ªõng t√¢m linh. B·∫°n c·∫ßn th·ªùi gian m·ªôt m√¨nh ƒë·ªÉ suy ng·∫´m v√† kh√°m ph√° nh·ªØng b√≠ ·∫©n c·ªßa cu·ªôc s·ªëng. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác t√¨m ki·∫øm s·ª± hi·ªÉu bi·∫øt s√¢u s·∫Øc.',
					8: 'B·∫°n l√† ng∆∞·ªùi c√≥ tham v·ªçng, th√≠ch quy·ªÅn l·ª±c v√† th√†nh c√¥ng v·ªÅ m·∫∑t v·∫≠t ch·∫•t. B·∫°n c√≥ kh·∫£ nƒÉng qu·∫£n l√Ω v√† ƒëi·ªÅu h√†nh t·ªët. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác ƒë·∫°t ƒë∆∞·ª£c th√†nh c√¥ng trong kinh doanh v√† t√†i ch√≠nh.',
					9: 'B·∫°n l√† ng∆∞·ªùi nh√¢n ƒë·∫°o, bao dung v√† c√≥ t·∫ßm nh√¨n r·ªông l·ªõn. B·∫°n quan t√¢m ƒë·∫øn l·ª£i √≠ch chung v√† mu·ªën c·ªëng hi·∫øn cho x√£ h·ªôi. Cu·ªôc ƒë·ªùi b·∫°n h∆∞·ªõng t·ªõi vi·ªác ph·ª•c v·ª• nh√¢n lo·∫°i v√† t·∫°o ra nh·ªØng thay ƒë·ªïi t√≠ch c·ª±c.',
					11: 'B·∫°n c√≥ tr·ª±c gi√°c m·∫°nh m·∫Ω v√† kh·∫£ nƒÉng truy·ªÅn c·∫£m h·ª©ng cho ng∆∞·ªùi kh√°c. ƒê√¢y l√† con s·ªë th·∫ßy, b·∫°n c√≥ s·ª© m·ªánh n√¢ng cao √Ω th·ª©c c·ªßa con ng∆∞·ªùi v√† mang √°nh s√°ng t√¢m linh ƒë·∫øn th·∫ø gi·ªõi.',
					22: 'B·∫°n c√≥ kh·∫£ nƒÉng bi·∫øn ∆∞·ªõc m∆° th√†nh hi·ªán th·ª±c tr√™n quy m√¥ l·ªõn. B·∫°n l√† ng∆∞·ªùi x√¢y d·ª±ng, c√≥ th·ªÉ t·∫°o ra nh·ªØng c√¥ng tr√¨nh vƒ© ƒë·∫°i mang l·∫°i l·ª£i √≠ch cho nhi·ªÅu ng∆∞·ªùi.',
					33: 'B·∫°n l√† th·∫ßy gi√°o t·ªëi th∆∞·ª£ng, c√≥ kh·∫£ nƒÉng ch·ªØa l√†nh v√† y√™u th∆∞∆°ng v√¥ ƒëi·ªÅu ki·ªán. B·∫°n c√≥ s·ª© m·ªánh n√¢ng ƒë·ª° v√† ch·ªØa l√†nh cho nh√¢n lo·∫°i th√¥ng qua t√¨nh y√™u v√† l√≤ng t·ª´ bi.',
				},
				destinyDescriptions: {
					1: 'S·ªë ƒë·ªãnh m·ªánh 1 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ l√†m l√£nh ƒë·∫°o. B·∫°n c√≥ kh·∫£ nƒÉng kh·ªüi x∆∞·ªõng, ƒëi ti√™n phong v√† t·∫°o ra nh·ªØng thay ƒë·ªïi t√≠ch c·ª±c. H√£y ph√°t tri·ªÉn s·ª± t·ª± tin v√† ƒë·ªôc l·∫≠p c·ªßa m√¨nh.',
					2: 'S·ªë ƒë·ªãnh m·ªánh 2 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ h·ª£p t√°c v√† h·ªó tr·ª£. B·∫°n c√≥ kh·∫£ nƒÉng l√†m vi·ªác nh√≥m xu·∫•t s·∫Øc v√† t·∫°o ra s·ª± h√≤a h·ª£p. H√£y ph√°t tri·ªÉn kh·∫£ nƒÉng ngo·∫°i giao v√† l·∫Øng nghe c·ªßa m√¨nh.',
					3: 'S·ªë ƒë·ªãnh m·ªánh 3 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ s√°ng t·∫°o v√† truy·ªÅn c·∫£m h·ª©ng. B·∫°n c√≥ t√†i nƒÉng ngh·ªá thu·∫≠t v√† giao ti·∫øp. H√£y ph√°t tri·ªÉn kh·∫£ nƒÉng th·ªÉ hi·ªán b·∫£n th√¢n m·ªôt c√°ch s√°ng t·∫°o.',
					4: 'S·ªë ƒë·ªãnh m·ªánh 4 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ x√¢y d·ª±ng v√† t·ªï ch·ª©c. B·∫°n c√≥ kh·∫£ nƒÉng t·∫°o ra nh·ªØng n·ªÅn t·∫£ng v·ªØng ch·∫Øc. H√£y ph√°t tri·ªÉn t√≠nh k·ª∑ lu·∫≠t v√† ki√™n nh·∫´n c·ªßa m√¨nh.',
					5: 'S·ªë ƒë·ªãnh m·ªánh 5 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ kh√°m ph√° v√† thay ƒë·ªïi. B·∫°n mang l·∫°i s·ª± ƒëa d·∫°ng v√† t·ª± do. H√£y ph√°t tri·ªÉn kh·∫£ nƒÉng th√≠ch nghi v√† tinh th·∫ßn phi√™u l∆∞u c·ªßa m√¨nh.',
					6: 'S·ªë ƒë·ªãnh m·ªánh 6 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ chƒÉm s√≥c v√† nu√¥i d∆∞·ª°ng. B·∫°n c√≥ tr√°i tim ·∫•m √°p v√† c√≥ tr√°ch nhi·ªám v·ªõi gia ƒë√¨nh. H√£y ph√°t tri·ªÉn l√≤ng t·ª´ bi v√† kh·∫£ nƒÉng ch·ªØa l√†nh c·ªßa m√¨nh.',
					7: 'S·ªë ƒë·ªãnh m·ªánh 7 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ t√¨m ki·∫øm s·ª± th·∫≠t v√† hi·ªÉu bi·∫øt. B·∫°n c√≥ kh·∫£ nƒÉng nghi√™n c·ª©u v√† t√¢m linh s√¢u s·∫Øc. H√£y ph√°t tri·ªÉn tr√≠ tu·ªá v√† tr·ª±c gi√°c c·ªßa m√¨nh.',
					8: 'S·ªë ƒë·ªãnh m·ªánh 8 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c th√†nh c√¥ng v·∫≠t ch·∫•t. B·∫°n c√≥ kh·∫£ nƒÉng qu·∫£n l√Ω v√† kinh doanh. H√£y ph√°t tri·ªÉn t·∫ßm nh√¨n kinh doanh v√† kh·∫£ nƒÉng l√£nh ƒë·∫°o c·ªßa m√¨nh.',
					9: 'S·ªë ƒë·ªãnh m·ªánh 9 cho th·∫•y b·∫°n sinh ra ƒë·ªÉ ph·ª•c v·ª• nh√¢n lo·∫°i. B·∫°n c√≥ t·∫ßm nh√¨n r·ªông l·ªõn v√† l√≤ng nh√¢n √°i. H√£y ph√°t tri·ªÉn tinh th·∫ßn nh√¢n ƒë·∫°o v√† kh·∫£ nƒÉng c·ªëng hi·∫øn c·ªßa m√¨nh.',
					11: 'S·ªë ƒë·ªãnh m·ªánh 11 cho th·∫•y b·∫°n c√≥ s·ª© m·ªánh t√¢m linh cao c·∫£. B·∫°n l√† ng∆∞·ªùi truy·ªÅn c·∫£m h·ª©ng v√† n√¢ng cao √Ω th·ª©c. H√£y ph√°t tri·ªÉn tr·ª±c gi√°c v√† kh·∫£ nƒÉng ch·ªØa l√†nh t√¢m linh.',
					22: 'S·ªë ƒë·ªãnh m·ªánh 22 cho th·∫•y b·∫°n c√≥ kh·∫£ nƒÉng t·∫°o ra nh·ªØng thay ƒë·ªïi l·ªõn lao. B·∫°n c√≥ th·ªÉ x√¢y d·ª±ng nh·ªØng d·ª± √°n mang t·∫ßm qu·ªëc t·∫ø. H√£y ph√°t tri·ªÉn t·∫ßm nh√¨n v√† kh·∫£ nƒÉng th·ª±c hi·ªán.',
					33: 'S·ªë ƒë·ªãnh m·ªánh 33 cho th·∫•y b·∫°n c√≥ s·ª© m·ªánh y√™u th∆∞∆°ng v√† ch·ªØa l√†nh. B·∫°n l√† th·∫ßy gi√°o c·ªßa t√¨nh y√™u v√¥ ƒëi·ªÅu ki·ªán. H√£y ph√°t tri·ªÉn l√≤ng t·ª´ bi v√† kh·∫£ nƒÉng ch·ªØa l√†nh cho th·∫ø gi·ªõi.',
				},
				soulUrgeDescriptions: {
					1: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao ƒë∆∞·ª£c l√£nh ƒë·∫°o v√† ƒë·ªôc l·∫≠p. B·∫°n mu·ªën ƒë∆∞·ª£c c√¥ng nh·∫≠n nh∆∞ m·ªôt ng∆∞·ªùi ti√™n phong v√† c√≥ ·∫£nh h∆∞·ªüng. H√£y theo ƒëu·ªïi nh·ªØng m·ª•c ti√™u m√† b·∫°n th·ª±c s·ª± ƒëam m√™.',
					2: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao h√≤a b√¨nh v√† s·ª± k·∫øt n·ªëi. B·∫°n mu·ªën ƒë∆∞·ª£c y√™u th∆∞∆°ng v√† t·∫°o ra s·ª± h√†i h√≤a xung quanh m√¨nh. H√£y t√¨m ki·∫øm nh·ªØng m·ªëi quan h·ªá s√¢u s·∫Øc v√† √Ω nghƒ©a.',
					3: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao ƒë∆∞·ª£c th·ªÉ hi·ªán b·∫£n th√¢n s√°ng t·∫°o. B·∫°n mu·ªën mang l·∫°i ni·ªÅm vui v√† c·∫£m h·ª©ng cho ng∆∞·ªùi kh√°c. H√£y theo ƒëu·ªïi nh·ªØng ho·∫°t ƒë·ªông ngh·ªá thu·∫≠t v√† s√°ng t·∫°o.',
					4: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao s·ª± ·ªïn ƒë·ªãnh v√† an to√†n. B·∫°n mu·ªën x√¢y d·ª±ng m·ªôt n·ªÅn t·∫£ng v·ªØng ch·∫Øc cho cu·ªôc s·ªëng. H√£y t·∫≠p trung v√†o vi·ªác t·∫°o ra tr·∫≠t t·ª± v√† c·∫•u tr√∫c.',
					5: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao t·ª± do v√† phi√™u l∆∞u. B·∫°n mu·ªën kh√°m ph√° th·∫ø gi·ªõi v√† tr·∫£i nghi·ªám nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª. H√£y cho ph√©p b·∫£n th√¢n ƒë∆∞·ª£c du l·ªãch v√† kh√°m ph√°.',
					6: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao ƒë∆∞·ª£c chƒÉm s√≥c v√† nu√¥i d∆∞·ª°ng ng∆∞·ªùi kh√°c. B·∫°n mu·ªën t·∫°o ra m·ªôt m√¥i tr∆∞·ªùng ·∫•m √°p v√† y√™u th∆∞∆°ng. H√£y d√†nh th·ªùi gian cho gia ƒë√¨nh v√† nh·ªØng ng∆∞·ªùi th√¢n y√™u.',
					7: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao hi·ªÉu bi·∫øt v√† s·ª± th·∫≠t. B·∫°n mu·ªën kh√°m ph√° nh·ªØng b√≠ ·∫©n c·ªßa cu·ªôc s·ªëng v√† v≈© tr·ª•. H√£y d√†nh th·ªùi gian cho vi·ªác h·ªçc h·ªèi v√† t√¨m hi·ªÉu t√¢m linh.',
					8: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao th√†nh c√¥ng v√† c√¥ng nh·∫≠n. B·∫°n mu·ªën ƒë·∫°t ƒë∆∞·ª£c ƒë·ªãa v·ªã v√† ·∫£nh h∆∞·ªüng trong x√£ h·ªôi. H√£y theo ƒëu·ªïi nh·ªØng m·ª•c ti√™u kinh doanh v√† t√†i ch√≠nh c·ªßa m√¨nh.',
					9: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao c·ªëng hi·∫øn cho nh√¢n lo·∫°i. B·∫°n mu·ªën t·∫°o ra s·ª± kh√°c bi·ªát t√≠ch c·ª±c tr√™n th·∫ø gi·ªõi. H√£y tham gia v√†o nh·ªØng ho·∫°t ƒë·ªông t·ª´ thi·ªán v√† x√£ h·ªôi.',
					11: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao k·∫øt n·ªëi v·ªõi ƒëi·ªÅu thi√™ng li√™ng. B·∫°n mu·ªën truy·ªÅn c·∫£m h·ª©ng t√¢m linh cho ng∆∞·ªùi kh√°c. H√£y ph√°t tri·ªÉn kh·∫£ nƒÉng tr·ª±c gi√°c v√† t√¢m linh c·ªßa m√¨nh.',
					22: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao t·∫°o ra nh·ªØng th√†nh t·ª±u vƒ© ƒë·∫°i. B·∫°n mu·ªën ƒë·ªÉ l·∫°i d·∫•u ·∫•n l·ªõn lao cho th·∫ø gi·ªõi. H√£y theo ƒëu·ªïi nh·ªØng d·ª± √°n c√≥ t·∫ßm ·∫£nh h∆∞·ªüng r·ªông l·ªõn.',
					33: 'Trong s√¢u th·∫≥m, b·∫°n kh√°t khao y√™u th∆∞∆°ng v√† ch·ªØa l√†nh. B·∫°n mu·ªën mang t√¨nh y√™u v√¥ ƒëi·ªÅu ki·ªán ƒë·∫øn v·ªõi m·ªçi ng∆∞·ªùi. H√£y ph√°t tri·ªÉn l√≤ng t·ª´ bi v√† kh·∫£ nƒÉng ch·ªØa l√†nh c·ªßa m√¨nh.',
				},
				personalityDescriptions: {
					1: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi l√£nh ƒë·∫°o t·ª± tin v√† quy·∫øt ƒëo√°n. B·∫°n to√°t l√™n v·∫ª ƒë·ªôc l·∫≠p v√† m·∫°nh m·∫Ω, khi·∫øn ng∆∞·ªùi kh√°c tin t∆∞·ªüng v√† mu·ªën theo b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ng∆∞·ªùi ti√™n phong.',
					2: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi h√≤a ƒë·ªìng v√† d·ªÖ g·∫ßn. B·∫°n to√°t l√™n v·∫ª nh·∫π nh√†ng v√† th√¢n thi·ªán, khi·∫øn m·ªçi ng∆∞·ªùi c·∫£m th·∫•y tho·∫£i m√°i khi ·ªü b√™n b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ng∆∞·ªùi h√≤a gi·∫£i.',
					3: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi vui v·∫ª v√† s√°ng t·∫°o. B·∫°n to√°t l√™n v·∫ª nƒÉng ƒë·ªông v√† h·∫•p d·∫´n, khi·∫øn m·ªçi ng∆∞·ªùi mu·ªën ·ªü g·∫ßn b·∫°n ƒë·ªÉ c·∫£m nh·∫≠n nƒÉng l∆∞·ª£ng t√≠ch c·ª±c. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ngh·ªá sƒ©.',
					4: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi ƒë√°ng tin c·∫≠y v√† th·ª±c t·∫ø. B·∫°n to√°t l√™n v·∫ª ·ªïn ƒë·ªãnh v√† c√≥ t·ªï ch·ª©c, khi·∫øn m·ªçi ng∆∞·ªùi tin t∆∞·ªüng v√†o kh·∫£ nƒÉng c·ªßa b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ng∆∞·ªùi x√¢y d·ª±ng.',
					5: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi t·ª± do v√† th√∫ v·ªã. B·∫°n to√°t l√™n v·∫ª nƒÉng ƒë·ªông v√† kh√¥ng th·ªÉ ƒëo√°n tr∆∞·ªõc, khi·∫øn m·ªçi ng∆∞·ªùi t√≤ m√≤ v·ªÅ nh·ªØng g√¨ b·∫°n s·∫Ω l√†m ti·∫øp theo. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt nh√† th√°m hi·ªÉm.',
					6: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi ·∫•m √°p v√† quan t√¢m. B·∫°n to√°t l√™n v·∫ª chƒÉm s√≥c v√† b·∫£o v·ªá, khi·∫øn m·ªçi ng∆∞·ªùi c·∫£m th·∫•y an to√†n v√† ƒë∆∞·ª£c y√™u th∆∞∆°ng khi ·ªü b√™n b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ng∆∞·ªùi m·∫π.',
					7: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi b√≠ ·∫©n v√† th√¥ng th√°i. B·∫°n to√°t l√™n v·∫ª s√¢u s·∫Øc v√† tr·∫ßm tƒ©nh, khi·∫øn m·ªçi ng∆∞·ªùi t√¥n tr·ªçng v√† mu·ªën t√¨m hi·ªÉu v·ªÅ b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt nh√† hi·ªÅn tri·∫øt.',
					8: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi th√†nh c√¥ng v√† quy·ªÅn l·ª±c. B·∫°n to√°t l√™n v·∫ª chuy√™n nghi·ªáp v√† c√≥ uy quy·ªÅn, khi·∫øn m·ªçi ng∆∞·ªùi k√≠nh tr·ªçng v√† tin t∆∞·ªüng v√†o kh·∫£ nƒÉng l√£nh ƒë·∫°o c·ªßa b·∫°n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt CEO.',
					9: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi bao dung v√† hi·ªÉu bi·∫øt. B·∫°n to√°t l√™n v·∫ª tr√≠ tu·ªá v√† l√≤ng t·ª´ bi, khi·∫øn m·ªçi ng∆∞·ªùi c·∫£m th·∫•y ƒë∆∞·ª£c hi·ªÉu v√† ch·∫•p nh·∫≠n. B·∫°n c√≥ kh√≠ ch·∫•t c·ªßa m·ªôt ng∆∞·ªùi th·∫ßy.',
					11: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi ƒë·∫∑c bi·ªát v√† truy·ªÅn c·∫£m h·ª©ng. B·∫°n to√°t l√™n v·∫ª t√¢m linh v√† chi·ªÅu s√¢u, khi·∫øn m·ªçi ng∆∞·ªùi c·∫£m th·∫•y ƒë∆∞·ª£c n√¢ng ƒë·ª° v·ªÅ m·∫∑t tinh th·∫ßn khi ·ªü g·∫ßn b·∫°n.',
					22: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi c√≥ t·∫ßm nh√¨n v√† kh·∫£ nƒÉng th·ª±c hi·ªán l·ªõn lao. B·∫°n to√°t l√™n v·∫ª c·ªßa m·ªôt ng∆∞·ªùi c√≥ th·ªÉ t·∫°o ra nh·ªØng thay ƒë·ªïi c√≥ √Ω nghƒ©a cho th·∫ø gi·ªõi.',
					33: 'Ng∆∞·ªùi kh√°c nh√¨n b·∫°n nh∆∞ m·ªôt ng∆∞·ªùi ch·ªØa l√†nh v√† y√™u th∆∞∆°ng. B·∫°n to√°t l√™n v·∫ª t·ª´ bi v√† s·ª± ch·∫•p nh·∫≠n v√¥ ƒëi·ªÅu ki·ªán, khi·∫øn m·ªçi ng∆∞·ªùi c·∫£m th·∫•y ƒë∆∞·ª£c ch·ªØa l√†nh khi ·ªü g·∫ßn b·∫°n.',
				},
				birthdayDescriptions: {
					1: 'Ng√†y sinh 1 mang nƒÉng l∆∞·ª£ng l√£nh ƒë·∫°o. B·∫°n c√≥ tinh th·∫ßn ƒë·ªôc l·∫≠p, s√°ng t·∫°o v√† th√≠ch kh·ªüi x∆∞·ªõng. B·∫°n l√† ng∆∞·ªùi ti√™n phong v√† c√≥ kh·∫£ nƒÉng d·∫´n d·∫Øt ng∆∞·ªùi kh√°c.',
					2: 'Ng√†y sinh 2 mang nƒÉng l∆∞·ª£ng h·ª£p t√°c. B·∫°n c√≥ kh·∫£ nƒÉng l√†m vi·ªác nh√≥m xu·∫•t s·∫Øc, nh·∫°y c·∫£m v·ªõi c·∫£m x√∫c ng∆∞·ªùi kh√°c v√† th√≠ch h√≤a gi·∫£i.',
					3: 'Ng√†y sinh 3 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o. B·∫°n c√≥ t√†i nƒÉng ngh·ªá thu·∫≠t, giao ti·∫øp t·ªët v√† lu√¥n tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng t√≠ch c·ª±c.',
					4: 'Ng√†y sinh 4 mang nƒÉng l∆∞·ª£ng ·ªïn ƒë·ªãnh. B·∫°n th·ª±c t·∫ø, chƒÉm ch·ªâ, c√≥ t√≠nh k·ª∑ lu·∫≠t cao v√† th√≠ch x√¢y d·ª±ng n·ªÅn t·∫£ng v·ªØng ch·∫Øc.',
					5: 'Ng√†y sinh 5 mang nƒÉng l∆∞·ª£ng t·ª± do. B·∫°n th√≠ch kh√°m ph√°, phi√™u l∆∞u, thay ƒë·ªïi v√† kh√¥ng mu·ªën b·ªã r√†ng bu·ªôc.',
					6: 'Ng√†y sinh 6 mang nƒÉng l∆∞·ª£ng chƒÉm s√≥c. B·∫°n c√≥ b·∫£n nƒÉng b·∫£o v·ªá, y√™u th∆∞∆°ng gia ƒë√¨nh v√† quan t√¢m ƒë·∫øn c·ªông ƒë·ªìng.',
					7: 'Ng√†y sinh 7 mang nƒÉng l∆∞·ª£ng t√¢m linh. B·∫°n th√≠ch t√¨m hi·ªÉu, nghi√™n c·ª©u v√† kh√°m ph√° nh·ªØng b√≠ ·∫©n c·ªßa cu·ªôc s·ªëng.',
					8: 'Ng√†y sinh 8 mang nƒÉng l∆∞·ª£ng th√†nh c√¥ng. B·∫°n c√≥ tham v·ªçng l·ªõn, kh·∫£ nƒÉng qu·∫£n l√Ω t·ªët v√† h∆∞·ªõng t·ªõi th√†nh t·ª±u v·∫≠t ch·∫•t.',
					9: 'Ng√†y sinh 9 mang nƒÉng l∆∞·ª£ng nh√¢n ƒë·∫°o. B·∫°n c√≥ t·∫ßm nh√¨n r·ªông, l√≤ng t·ª´ bi v√† mu·ªën c·ªëng hi·∫øn cho x√£ h·ªôi.',
					10: 'Ng√†y sinh 10 mang nƒÉng l∆∞·ª£ng l√£nh ƒë·∫°o s√°ng t·∫°o. B·∫°n k·∫øt h·ª£p s·ª± ƒë·ªôc l·∫≠p v·ªõi kh·∫£ nƒÉng s√°ng t·∫°o ƒë·ªôc ƒë√°o.',
					11: 'Ng√†y sinh 11 mang nƒÉng l∆∞·ª£ng tr·ª±c gi√°c m·∫°nh. B·∫°n c√≥ kh·∫£ nƒÉng truy·ªÅn c·∫£m h·ª©ng v√† k·∫øt n·ªëi v·ªõi ƒëi·ªÅu thi√™ng li√™ng.',
					12: 'Ng√†y sinh 12 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o h·ª£p t√°c. B·∫°n c√≥ th·ªÉ k·∫øt h·ª£p t√†i nƒÉng c√° nh√¢n v·ªõi kh·∫£ nƒÉng l√†m vi·ªác nh√≥m.',
					13: 'Ng√†y sinh 13 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o th·ª±c t·∫ø. B·∫°n c√≥ kh·∫£ nƒÉng bi·∫øn √Ω t∆∞·ªüng th√†nh hi·ªán th·ª±c th√¥ng qua c√¥ng vi·ªác chƒÉm ch·ªâ.',
					14: 'Ng√†y sinh 14 mang nƒÉng l∆∞·ª£ng t·ª± do c√≥ k·ª∑ lu·∫≠t. B·∫°n c·∫ßn s·ª± ƒëa d·∫°ng nh∆∞ng v·∫´n c√≥ th·ªÉ t·ªï ch·ª©c v√† qu·∫£n l√Ω t·ªët.',
					15: 'Ng√†y sinh 15 mang nƒÉng l∆∞·ª£ng chƒÉm s√≥c linh ho·∫°t. B·∫°n quan t√¢m ƒë·∫øn gia ƒë√¨nh nh∆∞ng c≈©ng c·∫ßn kh√¥ng gian c√° nh√¢n.',
					16: 'Ng√†y sinh 16 mang nƒÉng l∆∞·ª£ng t√¢m linh tr·ª±c gi√°c. B·∫°n c√≥ kh·∫£ nƒÉng nh√¨n th·∫•u b·∫£n ch·∫•t v√† t√¨m hi·ªÉu √Ω nghƒ©a s√¢u xa.',
					17: 'Ng√†y sinh 17 mang nƒÉng l∆∞·ª£ng th√†nh c√¥ng t√¢m linh. B·∫°n c√≥ th·ªÉ ƒë·∫°t ƒë∆∞·ª£c th√†nh t·ª±u v·∫≠t ch·∫•t m√† v·∫´n gi·ªØ ƒë∆∞·ª£c gi√° tr·ªã tinh th·∫ßn.',
					18: 'Ng√†y sinh 18 mang nƒÉng l∆∞·ª£ng nh√¢n ƒë·∫°o th·ª±c t·∫ø. B·∫°n mu·ªën gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c th√¥ng qua c√°c h√†nh ƒë·ªông c·ª• th·ªÉ.',
					19: 'Ng√†y sinh 19 mang nƒÉng l∆∞·ª£ng l√£nh ƒë·∫°o ƒë·ªôc l·∫≠p. B·∫°n c√≥ kh·∫£ nƒÉng d·∫´n d·∫Øt m√† v·∫´n gi·ªØ ƒë∆∞·ª£c c√° t√≠nh ri√™ng.',
					20: 'Ng√†y sinh 20 mang nƒÉng l∆∞·ª£ng h·ª£p t√°c nh·∫°y c·∫£m. B·∫°n c√≥ kh·∫£ nƒÉng c·∫£m nh·∫≠n v√† h√≤a h·ª£p v·ªõi nƒÉng l∆∞·ª£ng xung quanh.',
					21: 'Ng√†y sinh 21 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o h·ª£p t√°c. B·∫°n c√≥ th·ªÉ t·∫°o ra nh·ªØng ƒëi·ªÅu ƒë·∫πp ƒë·∫Ω khi l√†m vi·ªác v·ªõi ng∆∞·ªùi kh√°c.',
					22: 'Ng√†y sinh 22 mang nƒÉng l∆∞·ª£ng Master Builder. B·∫°n c√≥ kh·∫£ nƒÉng t·∫°o ra nh·ªØng th√†nh t·ª±u l·ªõn lao c√≥ t·∫ßm ·∫£nh h∆∞·ªüng r·ªông r√£i.',
					23: 'Ng√†y sinh 23 mang nƒÉng l∆∞·ª£ng giao ti·∫øp linh ho·∫°t. B·∫°n c√≥ kh·∫£ nƒÉng truy·ªÅn ƒë·∫°t √Ω t∆∞·ªüng m·ªôt c√°ch sinh ƒë·ªông v√† thuy·∫øt ph·ª•c.',
					24: 'Ng√†y sinh 24 mang nƒÉng l∆∞·ª£ng x√¢y d·ª±ng gia ƒë√¨nh. B·∫°n c√≥ kh·∫£ nƒÉng t·∫°o ra m√¥i tr∆∞·ªùng ·∫•m √°p v√† ·ªïn ƒë·ªãnh cho nh·ªØng ng∆∞·ªùi th√¢n y√™u.',
					25: 'Ng√†y sinh 25 mang nƒÉng l∆∞·ª£ng t√¨m t√≤i tr·ª±c gi√°c. B·∫°n c√≥ kh·∫£ nƒÉng kh√°m ph√° v√† hi·ªÉu bi·∫øt th√¥ng qua tr·ª±c gi√°c m·∫°nh m·∫Ω.',
					26: 'Ng√†y sinh 26 mang nƒÉng l∆∞·ª£ng kinh doanh nh√¢n vƒÉn. B·∫°n c√≥ th·ªÉ th√†nh c√¥ng trong kinh doanh m√† v·∫´n quan t√¢m ƒë·∫øn con ng∆∞·ªùi.',
					27: 'Ng√†y sinh 27 mang nƒÉng l∆∞·ª£ng gi√°o d·ª•c nh√¢n ƒë·∫°o. B·∫°n c√≥ kh·∫£ nƒÉng d·∫°y d·ªó v√† h∆∞·ªõng d·∫´n ng∆∞·ªùi kh√°c m·ªôt c√°ch t·ª´ bi.',
					28: 'Ng√†y sinh 28 mang nƒÉng l∆∞·ª£ng l√£nh ƒë·∫°o c√¢n b·∫±ng. B·∫°n c√≥ th·ªÉ l√£nh ƒë·∫°o hi·ªáu qu·∫£ m√† v·∫´n quan t√¢m ƒë·∫øn nhu c·∫ßu c·ªßa m·ªçi ng∆∞·ªùi.',
					29: 'Ng√†y sinh 29 mang nƒÉng l∆∞·ª£ng tr·ª±c gi√°c nh√¢n ƒë·∫°o. B·∫°n c√≥ kh·∫£ nƒÉng c·∫£m nh·∫≠n v√† gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c th√¥ng qua tr·ª±c gi√°c s√¢u s·∫Øc.',
					30: 'Ng√†y sinh 30 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o vui v·∫ª. B·∫°n c√≥ kh·∫£ nƒÉng mang l·∫°i ni·ªÅm vui v√† s·ª± s√°ng t·∫°o cho cu·ªôc s·ªëng.',
					31: 'Ng√†y sinh 31 mang nƒÉng l∆∞·ª£ng s√°ng t·∫°o th·ª±c t·∫ø. B·∫°n c√≥ kh·∫£ nƒÉng bi·∫øn nh·ªØng √Ω t∆∞·ªüng s√°ng t·∫°o th√†nh hi·ªán th·ª±c.',
				},
				attitudeDescriptions: {
					1: 'Th√°i ƒë·ªô s·ªë 1: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn l√£nh ƒë·∫°o v√† ƒë·ªôc l·∫≠p. B·∫°n th√≠ch l√†m ch·ªß t√¨nh h√¨nh v√† kh√¥ng ng·∫°i ƒë·ªëi m·∫∑t v·ªõi th·ª≠ th√°ch.',
					2: 'Th√°i ƒë·ªô s·ªë 2: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn h·ª£p t√°c v√† nh·∫°y c·∫£m. B·∫°n th√≠ch l√†m vi·ªác c√πng ng∆∞·ªùi kh√°c v√† t·∫°o ra s·ª± h√≤a h·ª£p.',
					3: 'Th√°i ƒë·ªô s·ªë 3: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn s√°ng t·∫°o v√† l·∫°c quan. B·∫°n lu√¥n t√¨m c√°ch l√†m cho m·ªçi th·ª© tr·ªü n√™n th√∫ v·ªã v√† sinh ƒë·ªông.',
					4: 'Th√°i ƒë·ªô s·ªë 4: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn th·ª±c t·∫ø v√† c√≥ t·ªï ch·ª©c. B·∫°n th√≠ch l·∫≠p k·∫ø ho·∫°ch chi ti·∫øt v√† l√†m vi·ªác m·ªôt c√°ch c√≥ h·ªá th·ªëng.',
					5: 'Th√°i ƒë·ªô s·ªë 5: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn t·ª± do v√† phi√™u l∆∞u. B·∫°n th√≠ch kh√°m ph√° nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª v√† kh√¥ng mu·ªën b·ªã r√†ng bu·ªôc.',
					6: 'Th√°i ƒë·ªô s·ªë 6: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn chƒÉm s√≥c v√† tr√°ch nhi·ªám. B·∫°n lu√¥n quan t√¢m ƒë·∫øn gia ƒë√¨nh v√† c·ªông ƒë·ªìng xung quanh.',
					7: 'Th√°i ƒë·ªô s·ªë 7: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn t√¨m t√≤i v√† t√¢m linh. B·∫°n th√≠ch suy ng·∫´m s√¢u s·∫Øc v·ªÅ √Ω nghƒ©a c·ªßa m·ªçi s·ª± vi·ªác.',
					8: 'Th√°i ƒë·ªô s·ªë 8: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn th√†nh c√¥ng v√† quy·∫øt ƒëo√°n. B·∫°n h∆∞·ªõng t·ªõi c√°c m·ª•c ti√™u l·ªõn v√† kh√¥ng ng·∫°i ch·∫•p nh·∫≠n r·ªßi ro.',
					9: 'Th√°i ƒë·ªô s·ªë 9: B·∫°n ti·∫øp c·∫≠n cu·ªôc s·ªëng v·ªõi tinh th·∫ßn nh√¢n ƒë·∫°o v√† bao dung. B·∫°n quan t√¢m ƒë·∫øn l·ª£i √≠ch chung v√† mu·ªën c·ªëng hi·∫øn cho x√£ h·ªôi.',
				},
				maturityDescriptions: {
					1: 'S·ªë Tr∆∞·ªüng Th√†nh 1: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng l√£nh ƒë·∫°o m·∫°nh m·∫Ω h∆°n. B·∫°n tr·ªü n√™n ƒë·ªôc l·∫≠p, t·ª± tin v√† c√≥ kh·∫£ nƒÉng kh·ªüi x∆∞·ªõng nh·ªØng d·ª± √°n m·ªõi. ƒê√¢y l√† th·ªùi k·ª≥ b·∫°n th·ª±c s·ª± tr·ªü th√†nh ng∆∞·ªùi ti√™n phong.',
					2: 'S·ªë Tr∆∞·ªüng Th√†nh 2: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng h·ª£p t√°c v√† c√¢n b·∫±ng. B·∫°n tr·ªü n√™n nh·∫°y c·∫£m h∆°n v·ªõi nhu c·∫ßu c·ªßa ng∆∞·ªùi kh√°c v√† c√≥ kh·∫£ nƒÉng x√¢y d·ª±ng nh·ªØng m·ªëi quan h·ªá s√¢u s·∫Øc, √Ω nghƒ©a.',
					3: 'S·ªë Tr∆∞·ªüng Th√†nh 3: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng s√°ng t·∫°o v√† giao ti·∫øp. B·∫°n c√≥ th·ªÉ tr·ªü th√†nh ng∆∞·ªùi truy·ªÅn c·∫£m h·ª©ng, ngh·ªá sƒ© ho·∫∑c di·ªÖn gi·∫£ t√†i ba, mang l·∫°i ni·ªÅm vui cho nhi·ªÅu ng∆∞·ªùi.',
					4: 'S·ªë Tr∆∞·ªüng Th√†nh 4: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng x√¢y d·ª±ng v√† t·ªï ch·ª©c. B·∫°n tr·ªü th√†nh ng∆∞·ªùi ƒë√°ng tin c·∫≠y, c√≥ th·ªÉ t·∫°o ra nh·ªØng n·ªÅn t·∫£ng v·ªØng ch·∫Øc cho b·∫£n th√¢n v√† ng∆∞·ªùi kh√°c.',
					5: 'S·ªë Tr∆∞·ªüng Th√†nh 5: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng th√≠ch ·ª©ng v√† kh√°m ph√°. B·∫°n c√≥ th·ªÉ tr·ªü th√†nh ng∆∞·ªùi du l·ªãch, nh√† th√°m hi·ªÉm ho·∫∑c ng∆∞·ªùi ƒëem l·∫°i nh·ªØng thay ƒë·ªïi t√≠ch c·ª±c cho x√£ h·ªôi.',
					6: 'S·ªë Tr∆∞·ªüng Th√†nh 6: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng chƒÉm s√≥c v√† nu√¥i d∆∞·ª°ng. B·∫°n tr·ªü th√†nh ng∆∞·ªùi c·ªë v·∫•n, th·∫ßy gi√°o ho·∫∑c ng∆∞·ªùi chƒÉm s√≥c, mang l·∫°i s·ª± ·∫•m √°p cho c·ªông ƒë·ªìng.',
					7: 'S·ªë Tr∆∞·ªüng Th√†nh 7: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng t√¢m linh v√† tr√≠ tu·ªá. B·∫°n c√≥ th·ªÉ tr·ªü th√†nh nh√† nghi√™n c·ª©u, tri·∫øt gia ho·∫∑c ng∆∞·ªùi d·∫´n d·∫Øt t√¢m linh, t√¨m ki·∫øm nh·ªØng s·ª± th·∫≠t s√¢u xa.',
					8: 'S·ªë Tr∆∞·ªüng Th√†nh 8: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng qu·∫£n l√Ω v√† kinh doanh. B·∫°n c√≥ th·ªÉ ƒë·∫°t ƒë∆∞·ª£c th√†nh c√¥ng l·ªõn v·ªÅ m·∫∑t v·∫≠t ch·∫•t v√† tr·ªü th√†nh ng∆∞·ªùi c√≥ ·∫£nh h∆∞·ªüng trong x√£ h·ªôi.',
					9: 'S·ªë Tr∆∞·ªüng Th√†nh 9: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng ph·ª•c v·ª• nh√¢n lo·∫°i. B·∫°n tr·ªü th√†nh ng∆∞·ªùi c√≥ t·∫ßm nh√¨n to√†n c·∫ßu, c√≥ th·ªÉ c·ªëng hi·∫øn cho nh·ªØng m·ª•c ti√™u cao c·∫£ v√† t·∫°o ra t√°c ƒë·ªông t√≠ch c·ª±c r·ªông l·ªõn.',
					11: 'S·ªë Tr∆∞·ªüng Th√†nh 11: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng truy·ªÅn c·∫£m h·ª©ng t√¢m linh. B·∫°n tr·ªü th√†nh ng∆∞·ªùi th·∫ßy, ng∆∞·ªùi ch·ªØa l√†nh ho·∫∑c ng∆∞·ªùi ƒëem √°nh s√°ng t√¢m linh ƒë·∫øn cho nhi·ªÅu ng∆∞·ªùi.',
					22: 'S·ªë Tr∆∞·ªüng Th√†nh 22: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng x√¢y d·ª±ng nh·ªØng d·ª± √°n vƒ© ƒë·∫°i. B·∫°n c√≥ th·ªÉ t·∫°o ra nh·ªØng thay ƒë·ªïi c√≥ t·∫ßm ·∫£nh h∆∞·ªüng qu·ªëc t·∫ø v√† ƒë·ªÉ l·∫°i di s·∫£n l·ªõn lao cho th·∫ø gi·ªõi.',
					33: 'S·ªë Tr∆∞·ªüng Th√†nh 33: Trong n·ª≠a ƒë·ªùi sau, b·∫°n s·∫Ω ph√°t tri·ªÉn kh·∫£ nƒÉng y√™u th∆∞∆°ng v√† ch·ªØa l√†nh v√¥ ƒëi·ªÅu ki·ªán. B·∫°n tr·ªü th√†nh ng∆∞·ªùi th·∫ßy c·ªßa t√¨nh y√™u, c√≥ th·ªÉ ch·ªØa l√†nh t√¢m h·ªìn c·ªßa nhi·ªÅu ng∆∞·ªùi th√¥ng qua l√≤ng t·ª´ bi.',
				},
			};

			let calculatedData = {};
			let calculationSteps = {};

			function reduceToSingleDigit(num) {
				// X·ª≠ l√Ω master numbers (11, 22, 33)
				if (num === 11 || num === 22 || num === 33) {
					return num;
				}

				while (num > 9) {
					let sum = 0;
					while (num > 0) {
						sum += num % 10;
						num = Math.floor(num / 10);
					}
					num = sum;

					// Ki·ªÉm tra l·∫°i master numbers sau khi t√≠nh
					if (num === 11 || num === 22 || num === 33) {
						return num;
					}
				}
				return num;
			}

			function calculateLifePathNumber(birthDate) {
				const date = new Date(birthDate);
				const day = date.getDate();
				const month = date.getMonth() + 1;
				const year = date.getFullYear();

				const sum = day + month + year;
				const result = reduceToSingleDigit(sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.lifePathSteps = {
					input: `${day}/${month}/${year}`,
					calculation: `${day} + ${month} + ${year} = ${sum}`,
					reduction: getReductionSteps(sum),
					result: result,
				};
				console.log(
					'lifePathSteps saved:',
					calculationSteps.lifePathSteps,
				);

				return result;
			}

			function getLetterValue(letter) {
				return letterValues[letter.toUpperCase()] || 0;
			}

			function getReductionSteps(num) {
				if (num === 11 || num === 22 || num === 33 || num <= 9) {
					return `${num} (kh√¥ng c·∫ßn r√∫t g·ªçn)`;
				}

				let steps = [];
				let current = num;

				while (current > 9) {
					if (current === 11 || current === 22 || current === 33) {
						steps.push(`${current} (Master Number)`);
						break;
					}

					let digits = current.toString().split('').map(Number);
					let sum = digits.reduce((a, b) => a + b, 0);
					steps.push(`${current} ‚Üí ${digits.join(' + ')} = ${sum}`);
					current = sum;
				}

				return steps.join(' ‚Üí ');
			}

			function getLetterBreakdown(name, type) {
				const normalizedName = normalizeVietnamese(name);
				const cleanName = normalizedName
					.replace(/[^A-Za-z]/g, '')
					.toUpperCase();

				let breakdown = [];
				let sum = 0;

				for (let i = 0; i < cleanName.length; i++) {
					const letter = cleanName[i];
					const value = getLetterValue(letter);
					let include = false;

					if (type === 'all') {
						include = true;
					} else if (type === 'vowel') {
						include = isVowel(letter, cleanName, i);
					} else if (type === 'consonant') {
						include = !isVowel(letter, cleanName, i);
					}

					if (include) {
						breakdown.push(`${letter}(${value})`);
						sum += value;
					}
				}

				return {
					letters: breakdown.join(' + '),
					calculation: `${breakdown.join(' + ')} = ${sum}`,
					sum: sum,
				};
			}

			function calculateDestinyNumber(fullName) {
				const breakdown = getLetterBreakdown(fullName, 'all');
				const result = reduceToSingleDigit(breakdown.sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.destinySteps = {
					input: `"${fullName}"`,
					letters: breakdown.letters,
					calculation: breakdown.calculation,
					reduction: getReductionSteps(breakdown.sum),
					result: result,
				};
				console.log(
					'destinySteps saved:',
					calculationSteps.destinySteps,
				);
				console.log('breakdown object:', breakdown);
				console.log(
					'fullName passed to calculateDestinyNumber:',
					fullName,
				);

				return result;
			}

			document.getElementById('numerologyForm').addEventListener;
			document
				.getElementById('numerologyForm')
				.addEventListener('submit', function (e) {
					e.preventDefault();

					const fullName = document
						.getElementById('fullName')
						.value.trim();
					const birthDate =
						document.getElementById('birthDate').value;

					if (!fullName || !birthDate) {
						alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
						return;
					}

					// Reset calculationSteps
					calculationSteps = {};

					// T√≠nh to√°n c√°c con s·ªë
					console.log('Calculating lifePathNumber...');
					const lifePathNumber = calculateLifePathNumber(birthDate);
					console.log('Calculating destinyNumber...');
					const destinyNumber = calculateDestinyNumber(fullName);
					console.log('Calculating soulUrgeNumber...');
					const soulUrgeNumber = calculateSoulUrgeNumber(fullName);
					console.log('Calculating personalityNumber...');
					const personalityNumber =
						calculatePersonalityNumber(fullName);
					console.log('Calculating birthdayNumber...');
					const birthdayNumber = calculateBirthdayNumber(birthDate);
					console.log('Calculating attitudeNumber...');
					const attitudeNumber = calculateAttitudeNumber(birthDate);
					console.log('Calculating maturityNumber...');
					const maturityNumber = calculateMaturityNumber(
						lifePathNumber,
						destinyNumber,
					);

					console.log(
						'All calculations done, calculationSteps:',
						calculationSteps,
					);

					// L∆∞u d·ªØ li·ªáu ƒë·ªÉ export PDF
					calculatedData = {
						fullName,
						birthDate,
						lifePathNumber,
						destinyNumber,
						soulUrgeNumber,
						personalityNumber,
						birthdayNumber,
						attitudeNumber,
						maturityNumber,
					};

					// Hi·ªÉn th·ªã k·∫øt qu·∫£
					document.getElementById('lifePathNumber').textContent =
						lifePathNumber;
					document.getElementById('lifePathDescription').textContent =
						descriptions.lifePathDescriptions[lifePathNumber];

					document.getElementById('destinyNumber').textContent =
						destinyNumber;
					document.getElementById('destinyDescription').textContent =
						descriptions.destinyDescriptions[destinyNumber];

					document.getElementById('soulUrgeNumber').textContent =
						soulUrgeNumber;
					document.getElementById('soulUrgeDescription').textContent =
						descriptions.soulUrgeDescriptions[soulUrgeNumber];

					document.getElementById('personalityNumber').textContent =
						personalityNumber;
					document.getElementById(
						'personalityDescription',
					).textContent =
						descriptions.personalityDescriptions[personalityNumber];

					document.getElementById('birthdayNumber').textContent =
						birthdayNumber;
					document.getElementById('birthdayDescription').textContent =
						descriptions.birthdayDescriptions[birthdayNumber];

					document.getElementById('attitudeNumber').textContent =
						attitudeNumber;
					document.getElementById('attitudeDescription').textContent =
						descriptions.attitudeDescriptions[attitudeNumber];

					document.getElementById('maturityNumber').textContent =
						maturityNumber;
					document.getElementById('maturityDescription').textContent =
						descriptions.maturityDescriptions[maturityNumber];

					// Hi·ªÉn th·ªã k·∫øt qu·∫£ v·ªõi hi·ªáu ·ª©ng
					const resultsDiv = document.getElementById('results');
					resultsDiv.style.display = 'block';

					// Hi·ªÉn th·ªã chi ti·∫øt c√¥ng th·ª©c
					console.log('About to display calculation details');
					const formulaSection =
						document.getElementById('formulaSection');
					console.log('Formula section element:', formulaSection);

					setTimeout(() => {
						displayCalculationDetails();
					}, 100);

					resultsDiv.scrollIntoView({ behavior: 'smooth' });
				});

			async function exportToPDF() {
				if (!calculatedData.fullName) {
					alert('Vui l√≤ng t√≠nh to√°n th·∫ßn s·ªë h·ªçc tr∆∞·ªõc khi xu·∫•t PDF!');
					return;
				}

				// T·∫°o element ch·ª©a n·ªôi dung ƒë·ªÉ export
				const printContent = document.createElement('div');
				printContent.style.cssText = `
					width: 210mm;
					padding: 20px;
					font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
					background: white;
					color: black;
					font-size: 14px;
					line-height: 1.5;
				`;

				printContent.innerHTML = `
					<div style="text-align: center; margin-bottom: 30px;">
						<h1 style="color: #667eea; font-size: 24px; margin-bottom: 10px;">üîÆ B√ÅO C√ÅO TH·∫¶N S·ªê H·ªåC</h1>
						<p style="color: #666; font-style: italic;">Kh√°m ph√° b·∫£n th√¢n th√¥ng qua s·ª©c m·∫°nh c·ªßa con s·ªë</p>
					</div>
					
					<div style="margin-bottom: 30px; padding: 20px; border: 1px solid #eee; border-radius: 10px;">
						<h3 style="color: #333; margin-bottom: 15px;">TH√îNG TIN C√Å NH√ÇN</h3>
						<p><strong>H·ªç v√† t√™n:</strong> ${calculatedData.fullName}</p>
						<p><strong>Ng√†y sinh:</strong> ${new Date(
							calculatedData.birthDate,
						).toLocaleDateString('vi-VN')}</p>
						<p><strong>Ng√†y t·∫°o b√°o c√°o:</strong> ${new Date().toLocaleDateString(
							'vi-VN',
						)}</p>
					</div>

					<div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; color: white;">
						<h3 style="margin-bottom: 15px;">üåü S·ªê ƒê∆Ø·ªúNG ƒê·ªúI (LIFE PATH NUMBER)</h3>
						<div style="font-size: 36px; font-weight: bold; text-align: center; margin: 20px 0;">${
							calculatedData.lifePathNumber
						}</div>
						<p style="text-align: justify;">${
							descriptions.lifePathDescriptions[
								calculatedData.lifePathNumber
							]
						}</p>
					</div>

					<div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #f093fb, #f5576c); border-radius: 15px; color: white;">
						<h3 style="margin-bottom: 15px;">üéØ S·ªê ƒê·ªäNH M·ªÜNH (DESTINY NUMBER)</h3>
						<div style="font-size: 36px; font-weight: bold; text-align: center; margin: 20px 0;">${
							calculatedData.destinyNumber
						}</div>
						<p style="text-align: justify;">${
							descriptions.destinyDescriptions[
								calculatedData.destinyNumber
							]
						}</p>
					</div>

					<div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #feca57, #ff9ff3); border-radius: 15px; color: white;">
						<h3 style="margin-bottom: 15px;">üíñ S·ªê KH√ÅT KHAO T√ÇM H·ªíN (SOUL URGE NUMBER)</h3>
						<div style="font-size: 36px; font-weight: bold; text-align: center; margin: 20px 0;">${
							calculatedData.soulUrgeNumber
						}</div>
						<p style="text-align: justify;">${
							descriptions.soulUrgeDescriptions[
								calculatedData.soulUrgeNumber
							]
						}</p>
					</div>

					<div style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #48c6ef, #6f86d6); border-radius: 15px; color: white;">
						<h3 style="margin-bottom: 15px;">üé≠ S·ªê NH√ÇN C√ÅCH (PERSONALITY NUMBER)</h3>
						<div style="font-size: 36px; font-weight: bold; text-align: center; margin: 20px 0;">${
							calculatedData.personalityNumber
						}</div>
						<p style="text-align: justify;">${
							descriptions.personalityDescriptions[
								calculatedData.personalityNumber
							]
						}</p>
					</div>

					<div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; color: #666; font-style: italic;">
						<p>B√°o c√°o n√†y ƒë∆∞·ª£c t·∫°o b·ªüi Trang Web Th·∫ßn S·ªë H·ªçc</p>
						<p style="font-size: 12px; margin-top: 10px;">"Con s·ªë kh√¥ng ch·ªâ l√† k√Ω hi·ªáu, m√† c√≤n l√† ch√¨a kh√≥a m·ªü ra nh·ªØng b√≠ m·∫≠t c·ªßa cu·ªôc s·ªëng"</p>
					</div>
				`;

				// ·∫®n ph·∫ßn c√¥ng th·ª©c tr∆∞·ªõc khi export
				const formulaSection =
					document.getElementById('formulaSection');
				const originalDisplay = formulaSection.style.display;
				formulaSection.style.display = 'none';

				// T·∫°m th·ªùi th√™m v√†o body ƒë·ªÉ render
				document.body.appendChild(printContent);

				try {
					// S·ª≠ d·ª•ng html2canvas ƒë·ªÉ chuy·ªÉn HTML th√†nh canvas
					const canvas = await html2canvas(printContent, {
						scale: 2, // TƒÉng ch·∫•t l∆∞·ª£ng
						useCORS: true,
						allowTaint: true,
						backgroundColor: '#ffffff',
					});

					// T·∫°o PDF t·ª´ canvas
					const { jsPDF } = window.jspdf;
					const pdf = new jsPDF('p', 'mm', 'a4');

					const imgWidth = 210; // A4 width in mm
					const pageHeight = 295; // A4 height in mm
					const imgHeight = (canvas.height * imgWidth) / canvas.width;
					let heightLeft = imgHeight;

					let position = 0;

					// Th√™m ·∫£nh v√†o PDF
					pdf.addImage(
						canvas.toDataURL('image/png'),
						'PNG',
						0,
						position,
						imgWidth,
						imgHeight,
					);
					heightLeft -= pageHeight;

					// N·∫øu n·ªôi dung d√†i h∆°n 1 trang, th√™m trang m·ªõi
					while (heightLeft >= 0) {
						position = heightLeft - imgHeight;
						pdf.addPage();
						pdf.addImage(
							canvas.toDataURL('image/png'),
							'PNG',
							0,
							position,
							imgWidth,
							imgHeight,
						);
						heightLeft -= pageHeight;
					}

					// L∆∞u file PDF
					const fileName = `Than_So_Hoc_${calculatedData.fullName.replace(
						/\s+/g,
						'_',
					)}_${new Date().toISOString().slice(0, 10)}.pdf`;
					pdf.save(fileName);
				} catch (error) {
					console.error('L·ªói khi t·∫°o PDF:', error);
					alert('C√≥ l·ªói x·∫£y ra khi t·∫°o PDF. Vui l√≤ng th·ª≠ l·∫°i!');
				} finally {
					// X√≥a element t·∫°m th·ªùi v√† kh√¥i ph·ª•c hi·ªÉn th·ªã ph·∫ßn c√¥ng th·ª©c
					document.body.removeChild(printContent);
					formulaSection.style.display = originalDisplay;
				}
			}

			// Th√™m hi·ªáu ·ª©ng cho form
			const inputs = document.querySelectorAll('input');
			inputs.forEach(input => {
				input.addEventListener('focus', function () {
					this.style.transform = 'translateY(-2px)';
					this.style.boxShadow =
						'0 5px 15px rgba(102, 126, 234, 0.2)';
				});

				input.addEventListener('blur', function () {
					this.style.transform = 'translateY(0)';
					this.style.boxShadow = 'none';
				});
			});

			// X·ª≠ l√Ω t√™n ti·∫øng Vi·ªát
			function normalizeVietnamese(str) {
				const accents = {
					√†: 'a',
					√°: 'a',
					·∫£: 'a',
					√£: 'a',
					·∫°: 'a',
					ƒÉ: 'a',
					·∫±: 'a',
					·∫Ø: 'a',
					·∫≥: 'a',
					·∫µ: 'a',
					·∫∑: 'a',
					√¢: 'a',
					·∫ß: 'a',
					·∫•: 'a',
					·∫©: 'a',
					·∫´: 'a',
					·∫≠: 'a',
					√®: 'e',
					√©: 'e',
					·∫ª: 'e',
					·∫Ω: 'e',
					·∫π: 'e',
					√™: 'e',
					·ªÅ: 'e',
					·∫ø: 'e',
					·ªÉ: 'e',
					·ªÖ: 'e',
					·ªá: 'e',
					√¨: 'i',
					√≠: 'i',
					·ªâ: 'i',
					ƒ©: 'i',
					·ªã: 'i',
					√≤: 'o',
					√≥: 'o',
					·ªè: 'o',
					√µ: 'o',
					·ªç: 'o',
					√¥: 'o',
					·ªì: 'o',
					·ªë: 'o',
					·ªï: 'o',
					·ªó: 'o',
					·ªô: 'o',
					∆°: 'o',
					·ªù: 'o',
					·ªõ: 'o',
					·ªü: 'o',
					·ª°: 'o',
					·ª£: 'o',
					√π: 'u',
					√∫: 'u',
					·ªß: 'u',
					≈©: 'u',
					·ª•: 'u',
					∆∞: 'u',
					·ª´: 'u',
					·ª©: 'u',
					·ª≠: 'u',
					·ªØ: 'u',
					·ª±: 'u',
					·ª≥: 'y',
					√Ω: 'y',
					·ª∑: 'y',
					·ªπ: 'y',
					·ªµ: 'y',
					ƒë: 'd',
				};

				return str
					.split('')
					.map(char => accents[char.toLowerCase()] || char)
					.join('');
			}

			// C·∫≠p nh·∫≠t c√°c h√†m t√≠nh to√°n ƒë·ªÉ h·ªó tr·ª£ ti·∫øng Vi·ªát
			function calculateDestinyNumber(fullName) {
				const normalizedName = normalizeVietnamese(fullName);
				const cleanName = normalizedName
					.replace(/[^A-Za-z]/g, '')
					.toUpperCase();
				let sum = 0;

				for (let letter of cleanName) {
					sum += getLetterValue(letter);
				}

				return reduceToSingleDigit(sum);
			}

			function calculateSoulUrgeNumber(fullName) {
				const breakdown = getLetterBreakdown(fullName, 'vowel');
				const result = reduceToSingleDigit(breakdown.sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.soulUrgeSteps = {
					input: `"${fullName}" (ch·ªâ nguy√™n √¢m)`,
					letters: breakdown.letters,
					calculation: breakdown.calculation,
					reduction: getReductionSteps(breakdown.sum),
					result: result,
				};

				return result;
			}

			function calculatePersonalityNumber(fullName) {
				const breakdown = getLetterBreakdown(fullName, 'consonant');
				const result = reduceToSingleDigit(breakdown.sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.personalitySteps = {
					input: `"${fullName}" (ch·ªâ ph·ª• √¢m)`,
					letters: breakdown.letters,
					calculation: breakdown.calculation,
					reduction: getReductionSteps(breakdown.sum),
					result: result,
				};

				return result;
			}

			function displayCalculationDetails() {
				const detailsDiv =
					document.getElementById('calculationDetails');
				console.log('detailsDiv found:', detailsDiv);

				// Test v·ªõi n·ªôi dung ƒë∆°n gi·∫£n tr∆∞·ªõc
				// detailsDiv.innerHTML = '<p style="color: red; font-weight: bold;">TEST - Formula section is working!</p>';

				// Debug log ƒë·ªÉ ki·ªÉm tra
				console.log('calculationSteps:', calculationSteps);
				console.log(
					'calculationSteps keys:',
					Object.keys(calculationSteps),
				);
				console.log(
					'lifePathSteps exists:',
					!!calculationSteps.lifePathSteps,
				);
				console.log(
					'destinySteps exists:',
					!!calculationSteps.destinySteps,
				);

				// Ki·ªÉm tra xem c√≥ data n√†o kh√¥ng
				const hasAnyData =
					calculationSteps.lifePathSteps ||
					calculationSteps.destinySteps ||
					calculationSteps.soulUrgeSteps ||
					calculationSteps.personalitySteps ||
					calculationSteps.birthdaySteps ||
					calculationSteps.attitudeSteps ||
					calculationSteps.maturitySteps;

				if (!hasAnyData) {
					console.error('calculationSteps not properly initialized');
					detailsDiv.innerHTML +=
						'<p style="color: red;">ERROR: Calculation steps missing. Please try calculating again.</p>';
					return;
				}

				console.log(
					'Proceeding to display formula with available data',
				);

				console.log(calculationSteps.destinySteps);

				const html = `
					<div style="display: grid; gap: 20px;">
						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #667eea;">
							<h4 style="color: #667eea; margin-bottom: 10px;">üåü S·ªë ƒê∆∞·ªùng ƒê·ªùi (Life Path Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.lifePathSteps?.input || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.lifePathSteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.lifePathSteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #667eea; font-weight: bold;">${
								calculationSteps.lifePathSteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #f093fb;">
							<h4 style="color: #f093fb; margin-bottom: 10px;">üéØ S·ªë ƒê·ªãnh M·ªánh (Destiny Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.destinySteps?.input || 'N/A'
							}</p>
							<p><strong>Ch·ªØ c√°i:</strong> ${
								calculationSteps.destinySteps?.letters || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.destinySteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.destinySteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #f093fb; font-weight: bold;">${
								calculationSteps.destinySteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #feca57;">
							<h4 style="color: #feca57; margin-bottom: 10px;">üíñ S·ªë Kh√°t Khao T√¢m H·ªìn (Soul Urge Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.soulUrgeSteps?.input || 'N/A'
							}</p>
							<p><strong>Nguy√™n √¢m:</strong> ${
								calculationSteps.soulUrgeSteps?.letters || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.soulUrgeSteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.soulUrgeSteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #feca57; font-weight: bold;">${
								calculationSteps.soulUrgeSteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #48c6ef;">
							<h4 style="color: #48c6ef; margin-bottom: 10px;">üé≠ S·ªë Nh√¢n C√°ch (Personality Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.personalitySteps?.input ||
								'N/A'
							}</p>
							<p><strong>Ph·ª• √¢m:</strong> ${
								calculationSteps.personalitySteps?.letters ||
								'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.personalitySteps
									?.calculation || 'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.personalitySteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #48c6ef; font-weight: bold;">${
								calculationSteps.personalitySteps?.result ||
								'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #ff9a56;">
							<h4 style="color: #ff9a56; margin-bottom: 10px;">üéÇ S·ªë Ng√†y Sinh (Birthday Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.birthdaySteps?.input || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.birthdaySteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.birthdaySteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #ff9a56; font-weight: bold;">${
								calculationSteps.birthdaySteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #a8e6cf;">
							<h4 style="color: #a8e6cf; margin-bottom: 10px;">üå± S·ªë Th√°i ƒê·ªô (Attitude Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.attitudeSteps?.input || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.attitudeSteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.attitudeSteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #a8e6cf; font-weight: bold;">${
								calculationSteps.attitudeSteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #ff6b9d;">
							<h4 style="color: #ff6b9d; margin-bottom: 10px;">üå∏ S·ªë Tr∆∞·ªüng Th√†nh (Maturity Number)</h4>
							<p><strong>C√¥ng th·ª©c:</strong> ${
								calculationSteps.maturitySteps?.input || 'N/A'
							}</p>
							<p><strong>T√≠nh to√°n:</strong> ${
								calculationSteps.maturitySteps?.calculation ||
								'N/A'
							}</p>
							<p><strong>R√∫t g·ªçn:</strong> ${
								calculationSteps.maturitySteps?.reduction ||
								'N/A'
							}</p>
							<p><strong>K·∫øt qu·∫£:</strong> <span style="color: #ff6b9d; font-weight: bold;">${
								calculationSteps.maturitySteps?.result || 'N/A'
							}</span></p>
						</div>

						<div style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 10px;">
							<h5 style="color: #1976d2; margin-bottom: 10px;">üìù L∆∞u √Ω v·ªÅ quy t·∫Øc Y:</h5>
							<p style="font-size: 0.9em; color: #333;">
								‚Ä¢ Y ƒë∆∞·ª£c coi l√† <strong>nguy√™n √¢m</strong> khi ƒë·ª©ng ƒë·ªôc l·∫≠p ho·∫∑c kh√¥ng c√≥ nguy√™n √¢m k·∫ø b√™n<br>
								‚Ä¢ Y ƒë∆∞·ª£c coi l√† <strong>ph·ª• √¢m</strong> khi ƒë·ª©ng tr∆∞·ªõc ho·∫∑c sau c√°c nguy√™n √¢m A, E, I, O, U
							</p>
						</div>
					</div>
				`;

				detailsDiv.innerHTML = html;
				console.log('Formula details updated successfully');
			}

			function calculateBirthdayNumber(birthDate) {
				const date = new Date(birthDate);
				const day = date.getDate();
				const result = day;

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.birthdaySteps = {
					input: `Ng√†y sinh: ${day}`,
					calculation: `S·ªë Ng√†y Sinh = ${day}`,
					reduction: 'Kh√¥ng c·∫ßn r√∫t g·ªçn',
					result: result,
				};
				console.log(
					'birthdaySteps saved:',
					calculationSteps.birthdaySteps,
				);

				return result;
			}

			function calculateAttitudeNumber(birthDate) {
				const date = new Date(birthDate);
				const day = date.getDate();
				const month = date.getMonth() + 1;

				const sum = day + month;
				const result = reduceToSingleDigit(sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.attitudeSteps = {
					input: `${day}/${month}`,
					calculation: `${day} + ${month} = ${sum}`,
					reduction: getReductionSteps(sum),
					result: result,
				};
				console.log(
					'attitudeSteps saved:',
					calculationSteps.attitudeSteps,
				);

				return result;
			}

			function calculateMaturityNumber(lifePathNumber, destinyNumber) {
				const sum = lifePathNumber + destinyNumber;
				const result = reduceToSingleDigit(sum);

				// L∆∞u chi ti·∫øt t√≠nh to√°n
				calculationSteps.maturitySteps = {
					input: `Life Path: ${lifePathNumber}, Destiny: ${destinyNumber}`,
					calculation: `${lifePathNumber} + ${destinyNumber} = ${sum}`,
					reduction: getReductionSteps(sum),
					result: result,
				};
				console.log(
					'maturitySteps saved:',
					calculationSteps.maturitySteps,
				);

				return result;
			}
		</script>
	</body>
</html>
